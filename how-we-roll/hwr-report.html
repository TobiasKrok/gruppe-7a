<!DOCTYPE html>
<!--
lage tilbake knapp - til index
    - Ligger i en meny på venstre side


bokser som inneholder medlemsinformasjon
-->
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!--basic symboler/bokstaver-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>How We Roll - Report</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap');
        body {
            background-color: #0a1929;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        h1,h2 {
            color: white;
            font-family: Roboto, 'sans-serif';
        }
        .table-overview {
          display: flex;
          align-items: center;
          justify-content: center;
          flex-direction: column;
        }
      table {
        border-collapse: collapse;
        margin: 25px 0;
        font-size: 0.9em;
        font-family: sans-serif;
        min-width: 400px;
        box-shadow: 0 0 20px #009879;
      }
      table thead tr {
        background-color: #009879;
        color: #ffffff;
        text-align: left;
      }
      table th,
      table td {
        padding: 12px 15px;
        color: white;
      }
      table tbody tr {
        border-bottom: 1px solid #dddddd;
      }

      table tbody tr:nth-of-type(even) {
        background-color: #f3f3f3;
      }

      table tbody tr:last-of-type {
        border-bottom: 2px solid #009879;
      }
    </style>
  </head>
  <body>
<h1>How We Roll Report</h1>

    <script>


      const data = []; // Array av JSON objects
      const links = [
        "https://bacit.info/hwr/20210926162029-a89356bb617d3bbf870649c08570427e.json",
        "https://bacit.info/hwr/20210926162029-a89356bb617d3bbf870649c08570427e.json",
        "https://bacit.info/hwr/20210926162029-a89356bb617d3bbf870649c08570427e.json",
      ];
      // Promise.all venter på at alle promises returned av Fetch skal resolves før den fortsetter.
      Promise.all(
        links.map((link) =>
          fetch(link)
            .then((res) => res.json())
            .then((res) => data.push(res))
        )
      ).then(() => {
        drawHwrTable()
        draw()
      });


      function draw() {
        var canvas = document.getElementById('myCanvas');
        if (canvas.getContext) {
          var ctx = canvas.getContext('2d');

          const members = [
            {
              name: "Tobias",
              morgenfugl:30,
              collab: 50
            },
            {
              name: "Fredrik",
              morgenfugl: 65,
              collab: 80
            }
          ]

          for(member of members) {
             // en jævla strek
          const lineStart = 200
          const lineEnd = 400
          ctx.beginPath();
          ctx.moveTo(lineStart, 200);   // Move pen to bottom-left corner
          ctx.lineTo(lineEnd, 200);   // Line to top corner
          ctx.lineWidth = 4;
          ctx.stroke();

          // Morgenfugl 
          members.map(member => {
            var circle = new Path2D();
            const pos = lineStart + member.morgenfugl * 2
            circle.arc(pos, 200, 5, 0, 2 * Math.PI);
            ctx.fillStyle = "red"
            ctx.fill(circle);
          })
          members.map(member => {
            var circle = new Path2D();
            const pos = lineStart + member.collab * 2
            circle.arc(pos, 200, 5, 0, 2 * Math.PI);
            ctx.fillStyle = "red"
            ctx.fill(circle);
          })
          }
         






        }
      }

          const drawHwrTable = () => {
        const html = `<div class="table-overview">
            <h2> Our reports </h2>
                <table>
                    <thead>
                    <tr>
                        <th> Navn </th>
                        <th> Stilling </th>
                        <th> Natteravn/Morgenfugl <th>
                    </tr>
                    </thead>
                    <tbody>
                    ${data.map(
                      (members) => `
                    <tr>
                    
                        <td> 
                         ${members.data01}
                        </td>
                        <td>
                        ${members.dorn}
                        </td>
                        <td>
                            mhm
                        </td>
                        <td>
                            yes
                        </td>
                        
                    </tr>
                    </tbody>
                    `
                    )}
                    </table>
                    <canvas id="myCanvas" width="600" height="800"></canvas>
                </div>
                
                `;
        console.log(html);
        const template = document.createElement("template");
        template.innerHTML = html;
        document.body.appendChild(template.content.firstChild);
      }
    </script>

    <!--
        bacit.info/hwr/20210926162029-a89356bb617d3bbf870649c08570427e.json
                        en del       -           en del
          -->
  </body>
</html>
